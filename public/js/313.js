(self.webpackChunk=self.webpackChunk||[]).push([[313],{5313:(t,e,r)=>{"use strict";r.r(e),r.d(e,{default:()=>u});var a=r(7757),n=r.n(a);function s(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function o(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function c(t,e,r,a,n,s,o){try{var c=t[s](o),i=c.value}catch(t){return void r(t)}c.done?e(i):Promise.resolve(i).then(a,n)}function i(t){return function(){var e=this,r=arguments;return new Promise((function(a,n){var s=t.apply(e,r);function o(t){c(s,a,n,o,i,"next",t)}function i(t){c(s,a,n,o,i,"throw",t)}o(void 0)}))}}const l={name:"checkout",data:function(){return{form:{name:"",address:"",state:"",country:"",card_number:"",card_expiration:"",card_cvv:""},selected:{},quantitySelect:[]}},created:function(){for(var t=1;t<=10;t++)this.quantitySelect.push({value:t,text:t})},methods:{changeQuantity:function(t,e){var r=this;return i(n().mark((function a(){return n().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!r.selected[e]){a.next=6;break}return a.next=3,r.$store.dispatch("addToCart",{product:t,quantity:r.selected[e]});case 3:return a.next=5,r.$store.dispatch("saveCart");case 5:r.$notify({group:"notify",type:"success",title:"Updated quantity",text:t.name});case 6:case"end":return a.stop()}}),a)})))()},deleteProduct:function(t){var e=this;return i(n().mark((function r(){return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.$store.dispatch("removeFromCart",t.id);case 2:return r.next=4,e.$store.dispatch("saveCart");case 4:e.$notify({group:"notify",type:"success",title:"Removed from cart",text:t.name});case 5:case"end":return r.stop()}}),r)})))()},payCart:function(){var t=this;return i(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("deleteCart");case 2:return e.next=4,t.$store.dispatch("saveCart");case 4:t.$nextTick((function(){t.$notify({group:"notify",type:"success",title:"Pay Success"}),t.form={name:"",address:"",state:"",country:"",card_number:"",card_expiration:"",card_cvv:""}}));case 5:case"end":return e.stop()}}),e)})))()}},computed:function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?s(Object(r),!0).forEach((function(e){o(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},(0,r(629).Se)({products:"allProducts",totalPrice:"totalPrice"}))};const u=(0,r(1900).Z)(l,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("main",{attrs:{role:"main"}},[r("b-container",{staticClass:"py-5"},[r("b-row",[r("b-col",{staticClass:"mb-4",attrs:{cols:"12"}},[r("b-card",{attrs:{header:"Items in Your Cart","header-tag":"header","header-bg-variant":"dark","header-text-variant":"white","no-body":""}},[r("b-container",{staticClass:"py-3",attrs:{fluid:""}},[t.products.length>0?r("b-row",{attrs:{"no-gutters":""}},[r("b-col",{staticClass:"mb-3",attrs:{cols:"12"}},[r("b-row",{attrs:{"no-gutters":"","align-h":"end"}},[r("b-col",{attrs:{cols:"3",lg:"2"}},[r("p",{staticClass:"font-weight-bold text-center"},[t._v("Update Qty")])]),t._v(" "),r("b-col",{attrs:{cols:"5",lg:"6"}},[r("p",{staticClass:"font-weight-bold  text-center"},[t._v("Product")])]),t._v(" "),r("b-col",{attrs:{cols:"1",lg:"1"}},[r("p",{staticClass:"font-weight-bold  text-center"},[t._v("Qty")])]),t._v(" "),r("b-col",{attrs:{cols:"3",lg:"3"}},[r("p",{staticClass:"font-weight-bold  text-center"},[t._v("Price")])])],1)],1),t._v(" "),t._l(t.products,(function(e){return r("b-col",{key:e.id,staticClass:"mb-3",attrs:{cols:"12"}},[r("b-row",{attrs:{"no-gutters":"","align-h":"end"}},[r("b-col",{attrs:{cols:"3",lg:"2"}},[r("b-form",{attrs:{inline:""},on:{submit:function(r){return r.preventDefault(),t.changeQuantity(e,e.id)}}},[r("b-form-row",[r("b-form-group",{staticClass:"col-9"},[r("b-select",{attrs:{size:"sm",name:"quantity",options:t.quantitySelect,value:e.quantity},model:{value:t.selected[e.id],callback:function(r){t.$set(t.selected,e.id,r)},expression:"selected[product.id]"}})],1),t._v(" "),r("b-form-group",{staticClass:"col-3"},[r("b-button",{attrs:{size:"sm",variant:"primary",type:"submit"}},[r("i",{staticClass:"fas fa-plus"})])],1)],1)],1)],1),t._v(" "),r("b-col",{attrs:{cols:"5",lg:"6"}},[r("b-button",{staticClass:"p-0",attrs:{block:"",squared:"",variant:"link"}},[t._v(t._s(e.name))])],1),t._v(" "),r("b-col",{staticClass:"text-center",attrs:{cols:"1",lg:"1"}},[t._v("\n                    "+t._s(e.quantity)+"\n                  ")]),t._v(" "),r("b-col",{staticClass:"text-center",attrs:{cols:"3",lg:"3"}},[t._v("\n                    "+t._s(t._f("moneyFormat")(e.price))+"\n                    "),r("b-button",{attrs:{size:"sm",variant:"danger"},on:{click:function(r){return t.deleteProduct(e)}}},[r("i",{staticClass:"fas fa-trash-alt"})])],1)],1)],1)})),t._v(" "),r("b-col",{attrs:{cols:"12"}},[r("b-row",{attrs:{"no-gutters":"","align-h":"end"}},[r("b-col",{staticClass:"text-center",attrs:{cols:"2"}},[t._v("\n                      TOTAL\n                  ")]),t._v(" "),r("b-col",{staticClass:"text-center",attrs:{cols:"3"}},[t._v("\n                      "+t._s(t._f("moneyFormat")(t.totalPrice))+"\n                      ")])],1)],1)],2):r("p",{staticClass:"h2 text-center font-weight-bold"},[t._v("\n              The Cart is empty\n            ")])],1)],1)],1),t._v(" "),r("b-col",{attrs:{cols:"12"}},[r("b-card",{attrs:{"no-body":"",header:"Payment Information","header-tag":"header","header-bg-variant":"dark","header-text-variant":"white"}},[r("b-container",{staticClass:"py-5",attrs:{fluid:""}},[r("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(e){var a=e.invalid;return[r("b-form",{on:{submit:function(e){return e.preventDefault(),t.payCart(e)}}},[r("b-form-row",[r("b-col",{attrs:{lg:"6"}},[r("b-form-group",[r("ValidationProvider",{attrs:{name:"Name",rules:"required|alpha_spaces"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.valid,n=e.errors;return[r("b-form-input",{attrs:{state:!n[0]&&(!!a||null),placeholder:"Name"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}}),t._v(" "),r("b-form-invalid-feedback",[t._v("\n                          "+t._s(n[0])+"\n                        ")])]}}],null,!0)})],1),t._v(" "),r("b-form-group",[r("ValidationProvider",{attrs:{name:"Address",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.valid,n=e.errors;return[r("b-form-input",{attrs:{state:!n[0]&&(!!a||null),placeholder:"Address"},model:{value:t.form.address,callback:function(e){t.$set(t.form,"address",e)},expression:"form.address"}}),t._v(" "),r("b-form-invalid-feedback",[t._v("\n                          "+t._s(n[0])+"\n                        ")])]}}],null,!0)})],1),t._v(" "),r("b-form-row",[r("b-form-group",{staticClass:"col-sm-6"},[r("ValidationProvider",{attrs:{name:"State",rules:"required|alpha_spaces"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.valid,n=e.errors;return[r("b-form-input",{attrs:{state:!n[0]&&(!!a||null),placeholder:"State"},model:{value:t.form.state,callback:function(e){t.$set(t.form,"state",e)},expression:"form.state"}}),t._v(" "),r("b-form-invalid-feedback",[t._v("\n                            "+t._s(n[0])+"\n                          ")])]}}],null,!0)})],1),t._v(" "),r("b-form-group",{staticClass:"col-sm-6"},[r("ValidationProvider",{attrs:{name:"Country",rules:"required|alpha_spaces"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.valid,n=e.errors;return[r("b-form-input",{attrs:{state:!n[0]&&(!!a||null),placeholder:"Country"},model:{value:t.form.country,callback:function(e){t.$set(t.form,"country",e)},expression:"form.country"}}),t._v(" "),r("b-form-invalid-feedback",[t._v("\n                            "+t._s(n[0])+"\n                          ")])]}}],null,!0)})],1)],1)],1),t._v(" "),r("b-col",{attrs:{lg:"6"}},[r("b-form-group",[r("ValidationProvider",{attrs:{name:"Card number",rules:"required|min:16|integer"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.valid,n=e.errors;return[r("b-form-input",{attrs:{state:!n[0]&&(!!a||null),placeholder:"Card number"},model:{value:t.form.card_number,callback:function(e){t.$set(t.form,"card_number",e)},expression:"form.card_number"}}),t._v(" "),r("b-form-invalid-feedback",[t._v("\n                          "+t._s(n[0])+"\n                        ")])]}}],null,!0)})],1),t._v(" "),r("b-form-row",[r("b-form-group",{staticClass:"col-sm-6"},[r("ValidationProvider",{attrs:{name:"Card expiration",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.valid,n=e.errors;return[r("b-form-datepicker",{attrs:{placeholder:"MM/YYYY","hide-header":!0,"date-format-options":{year:"numeric",month:"numeric",day:void 0},state:!n[0]&&(!!a||null)},model:{value:t.form.card_expiration,callback:function(e){t.$set(t.form,"card_expiration",e)},expression:"form.card_expiration"}}),t._v(" "),r("b-form-invalid-feedback",[t._v("\n                            "+t._s(n[0])+"\n                          ")])]}}],null,!0)})],1),t._v(" "),r("b-form-group",{staticClass:"col-sm-6"},[r("ValidationProvider",{attrs:{name:"CVV",rules:"required|min:3|max:4"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.valid,n=e.errors;return[r("b-form-input",{attrs:{state:!n[0]&&(!!a||null),type:"password",placeholder:"CVV"},model:{value:t.form.card_cvv,callback:function(e){t.$set(t.form,"card_cvv",e)},expression:"form.card_cvv"}}),t._v(" "),r("b-form-invalid-feedback",[t._v("\n                            "+t._s(n[0])+"\n                          ")])]}}],null,!0)})],1),t._v(" "),r("b-button",{attrs:{type:"submit",variant:"primary",squared:"",block:"",disabled:a}},[r("b",[t._v("PAY")])])],1)],1)],1)],1)]}}])})],1)],1)],1)],1)],1)],1)}),[],!1,null,"09f8434b",null).exports}}]);